Ядро
====

<a id="a0001"></a>
### ⚬ Элемент каталога

Используется для группировки различных узлов по определенным критериям. Суть узла аналогична понятию каталог в файловой
системе.

<a id="a0002"></a>
### ⚬ Период

Параметр "время" из тарифного запроса попадает в указанный период. Если одна из дат не указана, то она берется
бесконечной (в прошлое или будущее). Узел период с неуказанными обеими датами просматривает дочерние узлы в
любом случае.

Основное назначение узла - изменение стоимости в тарифном плане с какой-либо даты.

<a id="a0003"></a>
### ⚬ Фильтр по времени

Узел выступает фильтром тарифного запроса, запрос пропускается к обработке в узлах-потомках только, если
параметр "время" в запросе совпадает хотя бы с одним набором условий узла. Фильтр позволяет определять в
тарифах различную стоимость услуги по времени суток, дням недели, месяца. Пустой набор ограничений означает
отсутствие фильтра по времени. Узел пропускает в себя запрос, только если перед ним в том же узле-предке не
стоял другой фильтр по времени, либо уже пропустивший запрос в себя (принявший Фильтр по типу времени,
запрос). Данный принцип позволяет делать наборы ограничений по умолчанию.

<a id="a0004"></a>
### ⚬ Фильтр по типу времени

Действие данного узла абсолютно идентично [Фильтру по времени](#a0003), за исключением того, что сами маски
определяются в справочнике типов времени. Это более удобно при большом количестве фильтров в тарифах разных
модулей. Узлы данных типов абсолютно равноправны и могут быть использованы комбинированно.

См. Справочники ➜ Другие ➜ Типы времени

<a id="a0005"></a>
### ⚬ Тарифная опция

См. Справочники ➜ Тарифные опции

<a id="a0006"></a>
### ⚬ Множитель цены

Узел используется для умножения цены на определенный коэффициент. Стоимость минуты
Например, используя данный узел, можно быстро создать тариф с НДС для физ. лиц, расширив базовый тариф и
добавив в конце дерева узел с умножением.

Модуль inet
===========

### ⚬ Элемент каталога

См. [Ядро: Элемент каталога](#a0001)

### ⚬ Период

См. [Ядро: Период](#a0002)

### ⚬ Фильтр по группе договоров

???

### ⚬ Фильтр по типу сервиса

См. Модули ➜ ЭКЗЕМПЛЯР_МОДУЛЯ ➜ Справочники ➜ Типы сервисов

### ⚬ Фильтр по времени

См. [Ядро: Фильтр по времени](#a0003)

### ⚬ Фильтр по типу времени

См. [Ядро: Фильтр по типу времени](#a0004)

### ⚬ Тарифная опция

См. [Ядро: Тарифная опция](#a0005)

### ⚬ Тип трафика

См. Модули ➜ ЭКЗЕМПЛЯР_МОДУЛЯ ➜ Справочники ➜ Трафик ➜ Типы трафика

### ⚬ Установка услуги

См. Модули ➜ Редактор модулей и услуг ➜ ЭКЗЕМПЛЯР_МОДУЛЯ ➜ Услуги

### ⚬ Опция

См. Модули ➜ ЭКЗЕМПЛЯР_МОДУЛЯ ➜ Справочники ➜ Опции

### ⚬ Стоимость

???

### ⚬ Диапазон трафика

Внутри ветки Трафик можно указывать диапазоны, внутри диапазона можно назначить отдельную цену, услугу и/или
опции. Диапазон со значением 0 работает как бесконечно большой.

### ⚬ Диапазон трафика из справочника

См. Модули ➜ ЭКЗЕМПЛЯР_МОДУЛЯ ➜ Справочники ➜ Диапазоны трафиков

### ⚬ Превалирующий трафик

Для подсчета превалирующего трафика из двух типов трафика нужно использовать ветку Превалирующий трафик.

При отсутствии внутри ветки превалирующего трафика зависимостей цены от какого-либо временного промежутка,
стоимость за период ветки будет равна стоимости максимального трафика, помноженного на цену.

В других случаях стоимость может "плавать", т. к. в один момент времени превалирующим может быть первый
трафик, в другой момент - второй, а за время, пока второй трафик "догоняет" первый наработки соостветственно не
будет, т. е. трафик будет превалирующим.

### ⚬ Множитель цены

Ветка Множитель цены умножает стоимость на указанное число. При этом, если эта ветка находится внутри веток Тип
трафика или Превалирующий трафик, то умножается только стоимость текущего типа трафика, т. е. ветка отработает
относительно ветки Тип трафика или Превалирующий трафик, иначе (т. е. если ветка Множитель цены находится в
корневой ветке, в самом низу) будет умножена стоимость по всем типам трафика, которым уже сопоставлена цена.

См. также [Ядро: Множитель цены](#a0006)

### ⚬ Фильтр по реалму

Ветка Фильтр по реалму производит фильтрацию по указанным реалмам, т. е. если текущий REALM (по умолчанию -
default) не входит в список, то тарифный запрос не попадет внутрь. Если на том же уровне есть ветка с пустым
набором REALMов, а ни в одну из веток Фильтр по реалму, которые находятся выше на том же уровне запрос не
попал, то эта пустая ветка отработает, т. е. запрос попадет внутрь этой ветки. Для сессий с типом инициации по
REALM всегда default.

### ⚬ Отказать в авторизации

Если запрос попал в ветку Отказать в авторизации, то в авторизации будет отказано с кодом 44 "Доступ 
приостановлен".

### ⚬ Авторизовать игнорируя ошибку баланса

???

### ⚬ Баланс

???

### ⚬ Запрещенные устройства

Если запрос попал в ветку Запрещенные устройства, а авторизация происходит на одном из указанных устройств
или на одном из потомков указанных устройств, то в авторизации будет отказано с кодом 40 "Доступ к устройству
(NAS'у) закрыт".

### ⚬ Разрешенные устройства

Если запрос попал в ветку Разрешенные устройства, а авторизация не происходит на одном из указанных устройств
или на одном из потомков указанных устройств, то в авторизации будет отказано с кодом 40 "Доступ к устройству
(NAS'у) закрыт".

### ⚬ Обработчик

???

### ⚬ Продукт

???

### ⚬ Уровни

???

Модуль npay
===========

### ⚬ Элемент каталога

См. [Ядро: Элемент каталога](#a0001)

### ⚬ Месячный режим снятия

???

### ⚬ Дневной редим снятия

???

### ⚬ Годовой режим снятия

???

### ⚬ Квартальный режим снятия

???

### ⚬ Авансовый режим снятия

???

### ⚬ Период

См. [Ядро: Период](#a0002)

### ⚬ Конфигурация

???

Модуль rscm
===========

### ⚬ Услуга

См. Модули ➜ Редактор модулей и услуг ➜ ЭКЗЕМПЛЯР_МОДУЛЯ ➜ Услуги

### ⚬ Элемент каталога

См. [Ядро: Элемент каталога](#a0001)

### ⚬ Период

### ⚬ Фильтр по времени

См. [Ядро: Период](#a0002)

### ⚬ Стоимость услуги

См. [Ядро: Фильтр по времени](#a0003)

### ⚬ Множитель цены

См. [Ядро: Множитель цены](#a0006)
